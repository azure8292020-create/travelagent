# 1. Start from the official Playwright Python image (Ubuntu-based)
FROM mcr.microsoft.com/playwright/python:v1.40.0-jammy

# 2. Define the task root
#WORKDIR ${LAMBDA_TASK_ROOT}

# 3. Install the AWS Lambda RIC (Runtime Interface Client)
# This is what allows a "normal" Docker image to talk to the Lambda service
RUN pip install --no-cache-dir awslambdaric

# 4. Install your specific Python dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# 5. Copy your function code
COPY lambda_function.py .

# 6. Set the ENTRYPOINT to the RIC and the CMD to your function
ENTRYPOINT [ "/usr/bin/python", "-m", "awslambdaric" ]
CMD [ "lambda_function.lambda_handler" ]